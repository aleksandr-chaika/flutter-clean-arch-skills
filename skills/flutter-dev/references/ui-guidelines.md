# UI Guidelines Reference

## Resources Structure

```
lib/resources/
├── colors/
│   └── app_colors.dart
├── text_styles/
│   └── app_text_styles.dart
├── assets/
│   └── assets.dart          # Generated by flutter_gen
└── localization/
    ├── app_localization.dart
    └── l10n/
        ├── intl_en.arb
        └── intl_ru.arb
```

## AppColors

### Definition

```dart
abstract class AppColors {
  // Primary
  static const Color primary = Color(0xFF2196F3);
  static const Color primaryDark = Color(0xFF1976D2);
  static const Color primaryLight = Color(0xFFBBDEFB);

  // Secondary
  static const Color secondary = Color(0xFF03DAC6);

  // Background
  static const Color background = Color(0xFFF5F5F5);
  static const Color surface = Color(0xFFFFFFFF);

  // Text
  static const Color textPrimary = Color(0xFF212121);
  static const Color textSecondary = Color(0xFF757575);

  // States
  static const Color error = Color(0xFFB00020);
  static const Color success = Color(0xFF4CAF50);
  static const Color warning = Color(0xFFFF9800);

  // Dividers
  static const Color divider = Color(0xFFBDBDBD);
}
```

### Usage

```dart
// CORRECT
Container(
  color: AppColors.primary,
  child: Text(
    'Hello',
    style: TextStyle(color: AppColors.textPrimary),
  ),
)

// WRONG - Never hardcode colors
Container(
  color: Color(0xFF2196F3),  // Use AppColors.primary
  child: Text(
    'Hello',
    style: TextStyle(color: Colors.black),  // Use AppColors.textPrimary
  ),
)
```

## AppTextStyles

### Definition

```dart
abstract class AppTextStyles {
  // Headlines
  static const TextStyle headline1 = TextStyle(
    fontSize: 32,
    fontWeight: FontWeight.bold,
    color: AppColors.textPrimary,
  );

  static const TextStyle headline2 = TextStyle(
    fontSize: 24,
    fontWeight: FontWeight.w600,
    color: AppColors.textPrimary,
  );

  // Body
  static const TextStyle bodyLarge = TextStyle(
    fontSize: 16,
    fontWeight: FontWeight.normal,
    color: AppColors.textPrimary,
  );

  static const TextStyle bodyMedium = TextStyle(
    fontSize: 14,
    fontWeight: FontWeight.normal,
    color: AppColors.textPrimary,
  );

  // Caption
  static const TextStyle caption = TextStyle(
    fontSize: 12,
    fontWeight: FontWeight.normal,
    color: AppColors.textSecondary,
  );

  // Button
  static const TextStyle button = TextStyle(
    fontSize: 14,
    fontWeight: FontWeight.w600,
    letterSpacing: 1.25,
  );
}
```

### Usage

```dart
// CORRECT
Text('Title', style: AppTextStyles.headline1)
Text('Body text', style: AppTextStyles.bodyMedium)

// WRONG
Text('Title', style: TextStyle(fontSize: 32, fontWeight: FontWeight.bold))
```

## AppLocalization

### ARB Files

```json
// intl_en.arb
{
  "@@locale": "en",
  "welcomeMessage": "Welcome to the app!",
  "userGreeting": "Hello, {name}!",
  "@userGreeting": {
    "placeholders": {
      "name": { "type": "String" }
    }
  },
  "itemCount": "{count, plural, =0{No items} =1{1 item} other{{count} items}}",
  "@itemCount": {
    "placeholders": {
      "count": { "type": "int" }
    }
  }
}
```

### Usage

```dart
// CORRECT
Text(AppLocalization.of(context).welcomeMessage)
Text(AppLocalization.of(context).userGreeting('John'))
Text(AppLocalization.of(context).itemCount(5))

// Shorthand with extension
Text(context.l10n.welcomeMessage)

// WRONG - Never hardcode user-facing text
Text('Welcome to the app!')
Text('Hello, John!')
```

## SVG Images

### SVGImage Widget

```dart
// CORRECT
SVGImage(
  asset: Assets.icons.home,
  width: 24,
  height: 24,
  color: AppColors.primary,
)

// With semantic label
SVGImage(
  asset: Assets.icons.settings,
  semanticsLabel: context.l10n.settingsIcon,
)

// WRONG - Don't use SvgPicture directly
SvgPicture.asset(
  'assets/icons/home.svg',
  width: 24,
  height: 24,
)
```

## Widget Guidelines

### Const Constructors

```dart
// CORRECT - Use const wherever possible
class MyWidget extends StatelessWidget {
  const MyWidget({super.key});

  @override
  Widget build(BuildContext context) {
    return const Column(
      children: [
        SizedBox(height: 16),
        Text('Static text', style: AppTextStyles.bodyMedium),
        SizedBox(height: 8),
      ],
    );
  }
}

// WRONG - Missing const
class MyWidget extends StatelessWidget {
  MyWidget({super.key});  // Missing const

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        SizedBox(height: 16),  // Should be const
      ],
    );
  }
}
```

### Widget vs Function

```dart
// CORRECT - Use Widget classes
class UserAvatar extends StatelessWidget {
  final String imageUrl;
  final double size;

  const UserAvatar({
    required this.imageUrl,
    this.size = 40,
    super.key,
  });

  @override
  Widget build(BuildContext context) {
    return ClipOval(
      child: Image.network(imageUrl, width: size, height: size),
    );
  }
}

// WRONG - Don't use functions that return widgets
Widget buildUserAvatar(String imageUrl, {double size = 40}) {
  return ClipOval(
    child: Image.network(imageUrl, width: size, height: size),
  );
}
```

## Performance

### ListView.builder for Long Lists

```dart
// CORRECT
ListView.builder(
  itemCount: items.length,
  itemBuilder: (context, index) => ItemWidget(item: items[index]),
)

// WRONG for large lists
ListView(
  children: items.map((item) => ItemWidget(item: item)).toList(),
)
```

### buildWhen for BlocBuilder

```dart
// CORRECT - Rebuild only when needed
BlocBuilder<UserBloc, UserState>(
  buildWhen: (previous, current) =>
      previous.user?.name != current.user?.name,
  builder: (context, state) => Text(state.user?.name ?? ''),
)

// WRONG - Rebuilds on every state change
BlocBuilder<UserBloc, UserState>(
  builder: (context, state) => Text(state.user?.name ?? ''),
)
```

### Avoid Expensive Operations in Build

```dart
// CORRECT - Cache expensive results
class MyWidget extends StatelessWidget {
  const MyWidget({required this.items, super.key});

  final List<Item> items;

  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: items.length,
      itemBuilder: (context, index) => ItemTile(item: items[index]),
    );
  }
}

// WRONG - Sorting in build
class MyWidget extends StatelessWidget {
  const MyWidget({required this.items, super.key});

  final List<Item> items;

  @override
  Widget build(BuildContext context) {
    final sortedItems = List.of(items)..sort();  // Expensive!
    return ListView.builder(
      itemCount: sortedItems.length,
      itemBuilder: (context, index) => ItemTile(item: sortedItems[index]),
    );
  }
}
```

## Common Widgets Structure

```
lib/presentation/common/
├── buttons/
│   ├── primary_button.dart
│   └── secondary_button.dart
├── inputs/
│   ├── app_text_field.dart
│   └── search_field.dart
├── cards/
│   └── info_card.dart
├── dialogs/
│   ├── confirmation_dialog.dart
│   └── error_dialog.dart
└── loading/
    ├── loading_overlay.dart
    └── shimmer_loading.dart
```
